# 趣说HTTP协议

### 1、浏览器背后的故事

1. HTTP: 超文本传输协议，是一种通信协议，允许将超文本标记语言（HTML）文档从web服务器传送到客户端的浏览器
2. HTTP是一个属于应用层的面向对象的协议。

3. web是一种基于超文本和JHTTP的、全球性的、动态交互的、跨平台的分布式图像信息系统；建立再互联网上的一种网络服务，为浏览者在互联网上查找和浏览信息提供了图形化的、易于访问的直观界面，其中的文档及超级链接将互联网上的信息节点组织成一个互为关联的网状结构

访问网页
![image](https://github.com/1684838553/http-project/assets/41181666/af38811d-0922-48cc-a3f1-a9d07d2f6e8c)

### 2、 通过TCP/IP看HTTP

#### 1、 TCP/IP 协议族

1. TCP/IP协议其实是一系列与互联网相关的协议集合起来的总称
2. 分层管理是TCP/IP协议的重要特征
3. TCP/IP协议族分为四层：应用层、传输层、网络层、数据链路层
   ![image](https://github.com/1684838553/http-project/assets/41181666/4d6919fe-a1a2-46c0-bc59-df05c9eb892b)

    - 应用层： 一般是我们编写的应用程序，决定了向用户提供的应用服务。可以通过系统调用与传输层进行通信。HTTP
    - 传输层： 通过系统调用向应用层提供处于网络连接中的两台计算机之间的数据传输功能。在该层，有两个性质不同的协议：TCP(面向连接) 和 UDP(无连接)
    - 网络层： 处理在网络上流动的数据包，数据包是网络传输的最小数据单位。该层规定了通过怎样的路径到达对方计算机，并把数据包传输给对方
    - 链路层： 用来处理网络的硬件部分，包括控制操作系统、硬件设备驱动、网络适配器及光纤物理可见部分。
  
   ![image](https://github.com/1684838553/http-project/assets/41181666/72cc5bab-7b9d-47d5-838f-620a205e649b)

#### 2、传输层：TCP的三次握手

目的： 确认客户端和服务端收发信息的能力正常

第一次握手：客户端发送带有 SYN 标志的连接请求报文段，然后进入 SYN_SEND（发送完成） 状态，等待服务端的确认。 `服务端确认客户端的发送能力正常，服务端的接收能力正常`

第二次握手：服务端接口到客户段发送的 SYN 报文后，需要发送一个 ACK 信息对这个报文进行确认。同时，还要发送自己的 SYN 请求信息。服务端会将上述的信息放到一个报文段（SYN + ACK报文段）中，一并发送给客户端，服务器进入 SYN_RECV 状态 `客户端知道自己和服务端的收发都正常`

第三次握手：客户端收到服务端的SYN + ACK报文段，向服务端发送确认报文，这个报文发送完毕后，两者都进入 Established 状态，完成三次握手  `服务端知道客户端的接收能力正常`

![image](https://github.com/1684838553/http-project/assets/41181666/74248da7-db81-43c9-aa35-5ed5816b0628)

- CLOSED：这是连接的初始状态，当一个设备（称为客户端）尝试与另一个设备（称为服务器）建立连接时，连接处于这个状态。

- SYN-SENT：在这个状态下，客户端已经发送了一个连接请求给服务器，但还没有收到服务器的确认。

- SYN-RECEIVED：在这个状态下，服务器已经收到了客户端的连接请求，但还没有发送确认。

- ESTABLISHED：在这个状态下，客户端和服务器都已经确认了对方的连接请求，数据可以开始传输。

### 3、 DNS域名解析

DNS: 提供域名到IP地址之间的解析服务

![image](https://github.com/1684838553/http-project/assets/41181666/690085e2-0ebd-4695-a369-69d51e202b03)





